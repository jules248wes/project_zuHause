<!--https://localhost:7010/Furniture/CreateCategory-->
@model zuHause.Models.FurnitureCategory

@{
    Layout = "~/Views/Shared/_NavigationBar.cshtml";
    ViewBag.Title = "新增分類";
}

<h2>新增商品分類</h2>

<form asp-action="CreateCategory" asp-controller="Furniture" method="post">
    <div class="mb-3">
        <label class="form-label">分類名稱</label>
        <input asp-for="Name" class="form-control" />
        <span asp-validation-for="Name" class="text-danger"></span>
    </div>

    <div class="mb-3">
        <label class="form-label">上層分類ID（可空）</label>
        <input asp-for="ParentId" class="form-control" />
    </div>

    <div class="mb-3">
        <label class="form-label">顯示排序</label>
        <input asp-for="DisplayOrder" class="form-control" type="number" />
    </div>

    <button type="submit" class="btn btn-primary">新增分類</button>
</form>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        const message = '@TempData["CategoryMessage"]';
        if (message === 'success') {
             Swal.fire({
                 icon: 'success',
                 title: '新增成功',
                 text: '分類已成功新增！',
                 confirmButtonColor: '#3085d6'
             });
         } else if (message === 'duplicate') {
             Swal.fire({
                 icon: 'error',
                 title: '新增失敗',
                 text: '已有相同名稱的分類，請重新命名。',
                 confirmButtonColor: '#d33'
             });
         } else if (message === 'error') {
             Swal.fire({
                 icon: 'error',
                 title: '系統錯誤',
                 text: '請稍後再試或聯絡管理員。',
                 confirmButtonColor: '#d33'
             });
         }
    </script>
}
