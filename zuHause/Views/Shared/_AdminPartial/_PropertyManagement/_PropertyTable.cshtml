@model dynamic

@{
    var tabId = ViewData["TabId"] as string ?? "all";
    var tableType = ViewData["TableType"] as string ?? "all";
    var checkboxClass = ViewData["CheckboxClass"] as string ?? "property-checkbox";
    var bulkBtnId = ViewData["BulkBtnId"] as string ?? "bulkMessageBtn";
    var selectAllId = ViewData["SelectAllId"] as string ?? "selectAllProperties";
    var tableTitle = ViewData["TableTitle"] as string ?? "屋源列表";
    var paginationLabel = ViewData["PaginationLabel"] as string ?? "屋源分頁";
}

<div class="card mt-3">
    <div class="card-body">
        <div class="mb-3">
            <button type="button" class="btn btn-success me-2" id="@bulkBtnId" disabled>
                <i class="fas fa-envelope"></i> 批量傳送系統訊息
            </button>
        </div>
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead class="table-dark">
                    <tr>
                        <th style="width: 50px;">
                            <input type="checkbox" class="form-check-input" id="@selectAllId">
                        </th>
                        <th>房源ID</th>
                        <th>房源基本資訊</th>
                        <th>所屬房東</th>
                        <th>屋源狀態</th>
                        @if (tableType == "pending")
                        {
                            <th class="sortable" data-sort="applyTime" data-table="@tableType">
                                申請審核時間 
                                <i class="bi bi-sort-up-alt sort-icon active" data-direction="asc"></i>
                            </th>
                            <th>房屋證明文件</th>
                        }
                        else
                        {
                            <th class="sortable" data-sort="publishDate" data-table="@tableType">
                                上架時間 
                                <i class="bi bi-sort-down sort-icon active" data-direction="desc"></i>
                            </th>
                            <th>付費狀態</th>
                            <th class="sortable" data-sort="expiryDate" data-table="@tableType">
                                上架期限 
                                <i class="bi bi-sort-up-alt sort-icon" data-direction="none"></i>
                            </th>
                        }
                        <th class="sortable" data-sort="updateTime" data-table="@tableType">
                            更新時間 
                            <i class="bi bi-sort-up-alt sort-icon" data-direction="none"></i>
                        </th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    @if (tableType == "all")
                    {
                        <!-- 全部屋源數據 -->
                        <tr>
                            <td><input type="checkbox" class="form-check-input @checkboxClass" value="P001"></td>
                            <td>P001</td>
                            <td>
                                <div><a href="#" target="_blank" class="text-decoration-none fw-bold">台北市信義區豪華套房</a></div>
                                <div><small class="text-muted">台北市信義區信義路五段150號</small></div>
                                <div><small class="text-success fw-bold">NT$ 25,000/月</small></div>
                            </td>
                            <td><a href="#" target="_blank" class="text-decoration-none">王大明</a></td>
                            <td><span class="badge bg-success">審核通過</span></td>
                            <td>2024-07-01</td>
                            <td><span class="badge bg-success">付費生效中</span></td>
                            <td>2024-08-01</td>
                            <td>2024-07-10 14:30</td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary">查看</button>
                                <button class="btn btn-sm btn-outline-secondary">編輯</button>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" class="form-check-input @checkboxClass" value="P002"></td>
                            <td>P002</td>
                            <td>
                                <div><a href="#" target="_blank" class="text-decoration-none fw-bold">新北市板橋區溫馨雅房</a></div>
                                <div><small class="text-muted">新北市板橋區文化路二段88號</small></div>
                                <div><small class="text-success fw-bold">NT$ 12,000/月</small></div>
                            </td>
                            <td><a href="#" target="_blank" class="text-decoration-none">李小華</a></td>
                            <td><span class="badge bg-warning">待審核</span></td>
                            <td>2024-07-05</td>
                            <td><span class="badge bg-warning">等待上架</span></td>
                            <td>2024-08-05</td>
                            <td>2024-07-08 09:15</td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary">查看</button>
                                <button class="btn btn-sm btn-outline-secondary">編輯</button>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" class="form-check-input @checkboxClass" value="P003"></td>
                            <td>P003</td>
                            <td>
                                <div><a href="#" target="_blank" class="text-decoration-none fw-bold">桃園市中壢區學生套房</a></div>
                                <div><small class="text-muted">桃園市中壢區中大路300號</small></div>
                                <div><small class="text-success fw-bold">NT$ 8,500/月</small></div>
                            </td>
                            <td><a href="#" target="_blank" class="text-decoration-none">張美玲</a></td>
                            <td><span class="badge bg-success">審核通過</span></td>
                            <td>2024-06-15</td>
                            <td><span class="badge bg-success">付費生效中</span></td>
                            <td>2024-07-15</td>
                            <td>2024-07-10 08:45</td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary">查看</button>
                                <button class="btn btn-sm btn-outline-secondary">編輯</button>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" class="form-check-input @checkboxClass" value="P004"></td>
                            <td>P004</td>
                            <td>
                                <div><a href="#" target="_blank" class="text-decoration-none fw-bold">台中市西屯區商務公寓</a></div>
                                <div><small class="text-muted">台中市西屯區台灣大道三段99號</small></div>
                                <div><small class="text-success fw-bold">NT$ 18,000/月</small></div>
                            </td>
                            <td><a href="#" target="_blank" class="text-decoration-none">陳志偉</a></td>
                            <td><span class="badge bg-danger">需重新審核</span></td>
                            <td>2024-06-20</td>
                            <td><span class="badge bg-warning">等待上架</span></td>
                            <td>2024-07-20</td>
                            <td>2024-07-05 16:22</td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary">查看</button>
                                <button class="btn btn-sm btn-outline-secondary">編輯</button>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" class="form-check-input @checkboxClass" value="P005"></td>
                            <td>P005</td>
                            <td>
                                <div><a href="#" target="_blank" class="text-decoration-none fw-bold">高雄市前鎮區港都小窩</a></div>
                                <div><small class="text-muted">高雄市前鎮區中華五路777號</small></div>
                                <div><small class="text-success fw-bold">NT$ 15,000/月</small></div>
                            </td>
                            <td><a href="#" target="_blank" class="text-decoration-none">林雅婷</a></td>
                            <td><span class="badge bg-success">審核通過</span></td>
                            <td>2024-07-08</td>
                            <td><span class="badge bg-success">付費生效中</span></td>
                            <td>2024-08-08</td>
                            <td>2024-07-10 11:18</td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary">查看</button>
                                <button class="btn btn-sm btn-outline-secondary">編輯</button>
                            </td>
                        </tr>
                    }
                    else if (tableType == "pending")
                    {
                        <!-- 待審核屋源數據 -->
                        <tr>
                            <td><input type="checkbox" class="form-check-input @checkboxClass" value="P002"></td>
                            <td>P002</td>
                            <td>
                                <div><a href="#" target="_blank" class="text-decoration-none fw-bold">新北市板橋區溫馨雅房</a></div>
                                <div><small class="text-muted">新北市板橋區文化路二段88號</small></div>
                                <div><small class="text-success fw-bold">NT$ 12,000/月</small></div>
                            </td>
                            <td><a href="#" target="_blank" class="text-decoration-none">李小華</a></td>
                            <td><span class="badge bg-warning">待審核</span></td>
                            <td>2024-07-05 10:30</td>
                            <td>
                                <span class="badge bg-info">已上傳</span><br>
                                <button class="btn btn-sm btn-outline-primary mt-1" onclick="openDocumentModal('P002')">查看文件</button>
                            </td>
                            <td>2024-07-08 09:15</td>
                            <td>
                                <button class="btn btn-sm btn-primary" onclick="openReviewModal('P002')">進行審核操作</button>
                            </td>
                        </tr>
                        <tr>
                            <td><input type="checkbox" class="form-check-input @checkboxClass" value="P006"></td>
                            <td>P006</td>
                            <td>
                                <div><a href="#" target="_blank" class="text-decoration-none fw-bold">台南市安平區海景套房</a></div>
                                <div><small class="text-muted">台南市安平區安平路123號</small></div>
                                <div><small class="text-success fw-bold">NT$ 20,000/月</small></div>
                            </td>
                            <td><a href="#" target="_blank" class="text-decoration-none">黃建國</a></td>
                            <td><span class="badge bg-warning">待審核</span></td>
                            <td>2024-07-07 13:15</td>
                            <td>
                                <span class="badge bg-info">已上傳</span><br>
                                <button class="btn btn-sm btn-outline-primary mt-1" onclick="openDocumentModal('P006')">查看文件</button>
                            </td>
                            <td>2024-07-07 12:30</td>
                            <td>
                                <button class="btn btn-sm btn-primary" onclick="openReviewModal('P006')">進行審核操作</button>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        
        <nav aria-label="@paginationLabel">
            <ul class="pagination justify-content-center">
                <li class="page-item disabled">
                    <a class="page-link" href="#" tabindex="-1">上一頁</a>
                </li>
                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                @if (tableType != "pending")
                {
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                }
                <li class="page-item">
                    <a class="page-link" href="#">下一頁</a>
                </li>
            </ul>
        </nav>
    </div>
</div>