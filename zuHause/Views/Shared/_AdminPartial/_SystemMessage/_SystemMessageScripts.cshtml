<script>
// 檢視訊息 Modal 函數
function viewMessage(messageId, title, content) {
    const modal = document.getElementById('viewMessageModal');
    const modalTitle = document.getElementById('messageModalTitle');
    const modalContent = document.getElementById('messageModalContent');
    
    modalTitle.textContent = title;
    modalContent.textContent = content;
    
    const bootstrapModal = new bootstrap.Modal(modal);
    bootstrapModal.show();
}

// 進階搜尋摺疊功能
document.addEventListener('DOMContentLoaded', function() {
    const advancedSearchBtn = document.getElementById('advancedSearchBtn');
    const advancedSearchCollapse = document.getElementById('advancedSearchCollapse');
    const collapse = new bootstrap.Collapse(advancedSearchCollapse, {
        toggle: false
    });
    
    advancedSearchBtn.addEventListener('click', function() {
        const icon = this.querySelector('i');
        
        if (advancedSearchCollapse.classList.contains('show')) {
            collapse.hide();
            icon.classList.remove('fa-chevron-up');
            icon.classList.add('fa-chevron-down');
        } else {
            collapse.show();
            icon.classList.remove('fa-chevron-down');
            icon.classList.add('fa-chevron-up');
        }
    });
});

// 搜尋與重置功能
document.addEventListener('DOMContentLoaded', function() {
    const searchBtn = document.getElementById('searchBtn');
    const resetBtn = document.getElementById('resetBtn');
    
    searchBtn.addEventListener('click', function() {
        const searchInput = document.getElementById('searchInput').value;
        const searchField = document.getElementById('searchField').value;
        const audienceFilter = document.getElementById('audienceFilter').value;
        const categoryFilter = document.getElementById('categoryFilter').value;
        const startDate = document.getElementById('startDate').value;
        const endDate = document.getElementById('endDate').value;
        const adminFilter = document.getElementById('adminFilter').value;
        
        console.log('搜尋條件:', {
            searchInput: searchInput,
            searchField: searchField,
            audience: audienceFilter,
            category: categoryFilter,
            startDate: startDate,
            endDate: endDate,
            admin: adminFilter
        });
        
        alert('搜尋功能將在後端實作時完成');
    });
    
    resetBtn.addEventListener('click', function() {
        document.getElementById('searchInput').value = '';
        document.getElementById('searchField').selectedIndex = 0;
        document.getElementById('audienceFilter').selectedIndex = 0;
        document.getElementById('categoryFilter').selectedIndex = 0;
        document.getElementById('startDate').value = '';
        document.getElementById('endDate').value = '';
        document.getElementById('adminFilter').selectedIndex = 0;
        
        console.log('已重置所有搜尋條件');
    });
});
</script>