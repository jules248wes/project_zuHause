@{
    dynamic memberData = ViewData["MemberData"];
}

<!-- 內容顯示區 -->
<div class="tab-content" id="memberDetailsTabsContent">
    <!-- 基本資料頁籤 -->
    <div class="tab-pane fade show active" id="basic-info" role="tabpanel" aria-labelledby="basic-info-tab">
        <div class="row mt-3">
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">個人檔案</h5>
                        <button class="btn btn-sm btn-outline-primary">
                            <i class="bi bi-pencil-square"></i> 編輯
                        </button>
                    </div>
                    <div class="card-body">
                        <dl class="row key-value-list">
                            <dt class="col-sm-4">姓名</dt><dd class="col-sm-8">王大明</dd>
                            <dt class="col-sm-4">性別</dt><dd class="col-sm-8">男</dd>
                            <dt class="col-sm-4">生日</dt><dd class="col-sm-8">1990-05-20</dd>
                            <dt class="col-sm-4">手機號碼</dt><dd class="col-sm-8">0912-345-678</dd>
                            <dt class="col-sm-4">電子信箱</dt><dd class="col-sm-8">wang.daming@email.com</dd>
                            <dt class="col-sm-4">居住地區</dt><dd class="col-sm-8">台北市 / 中正區</dd>
                            <dt class="col-sm-4">詳細地址</dt><dd class="col-sm-8">信義路一段123號4樓</dd>
                            <dt class="col-sm-4">偏好承租區域</dt><dd class="col-sm-8">台北市信義區、大安區</dd>
                        </dl>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">認證狀態與管理</h5>
                    </div>
                    <div class="card-body">
                        <dl class="row key-value-list">
                            <dt class="col-sm-5">手機驗證時間</dt><dd class="col-sm-7">2024-01-15 10:28:00</dd>
                            <dt class="col-sm-5">Email驗證時間</dt><dd class="col-sm-7">2024-01-18 14:00:00</dd>
                            <dt class="col-sm-5">身分驗證時間</dt><dd class="col-sm-7">2024-02-01 11:45:00</dd>
                            <dt class="col-sm-5">身分證檔案</dt>
                            <dd class="col-sm-7">
                                <span class="badge bg-info">已上傳</span>
                                <button class="btn btn-sm btn-outline-primary ms-2" onclick="openIdDocumentModal()">
                                    <i class="bi bi-eye me-1"></i>查看檔案
                                </button>
                            </dd>
                        </dl>
                        <hr>
                        <button class="btn btn-primary" onclick="openVerifyIdModal()">
                            <i class="bi bi-check2-circle me-1"></i> 手動驗證身分
                        </button>
                        <small class="form-text text-muted ms-2">僅在用戶未驗證時顯示此按鈕。</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 租客活動頁籤 -->
    <div class="tab-pane fade" id="renter-activity" role="tabpanel" aria-labelledby="renter-activity-tab">
        <div class="card mt-3">
            <div class="card-header">
                <h5 class="mb-0">歷史租約</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th>合約ID</th>
                                <th>房源標題</th>
                                <th>房東姓名</th>
                                <th class="sortable" data-sort="rentPeriod">
                                    租期 
                                    <i class="bi bi-sort-up-alt sort-icon" data-direction="none"></i>
                                </th>
                                <th>合約狀態</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>C001</td>
                                <td><a href="#" target="_blank" class="text-decoration-none">台北車站旁精美套房</a></td>
                                <td><a href="#" target="_blank" class="text-decoration-none">陳小姐</a></td>
                                <td>2023-03-01 ~ 2024-02-29</td>
                                <td><span class="badge bg-secondary">已結束</span></td>
                            </tr>
                            <tr>
                                <td>C008</td>
                                <td><a href="#" target="_blank" class="text-decoration-none">信義區景觀三房</a></td>
                                <td><a href="#" target="_blank" class="text-decoration-none">林先生</a></td>
                                <td>2024-05-01 ~ 2025-04-30</td>
                                <td><span class="badge bg-success">生效中</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- 房東活動頁籤 -->
    @if (memberData.IsLandlord)
    {
    <div class="tab-pane fade" id="landlord-activity" role="tabpanel" aria-labelledby="landlord-activity-tab">
        <div class="card mt-3">
            <div class="card-header">
                <h5 class="mb-0">名下房源</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th>房源ID</th>
                                <th>房源標題</th>
                                <th>地址</th>
                                <th>屋源狀態</th>
                                <th class="sortable" data-sort="expiryDate">
                                    刊登到期日 
                                    <i class="bi bi-sort-up-alt sort-icon" data-direction="none"></i>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>P001</td>
                                <td><a href="#" target="_blank" class="text-decoration-none">市府捷運站溫馨兩房</a></td>
                                <td>台北市信義區信義路五段150號</td>
                                <td><span class="badge bg-success">已上架</span></td>
                                <td>2025-08-15</td>
                            </tr>
                            <tr>
                                <td>P007</td>
                                <td><a href="#" target="_blank" class="text-decoration-none">板橋車站旁全新裝潢</a></td>
                                <td>新北市板橋區文化路二段88號</td>
                                <td><span class="badge bg-warning">待付款</span></td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="card mt-3">
            <div class="card-header">
                <h5 class="mb-0">收到的投訴</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th>投訴單號</th>
                                <th>投訴內容摘要</th>
                                <th class="sortable" data-sort="complaintDate">
                                    投訴時間 
                                    <i class="bi bi-sort-down sort-icon active" data-direction="desc"></i>
                                </th>
                                <th>處理狀態</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>CMPL-0123</td>
                                <td><a href="#" target="_blank" class="text-decoration-none">照片與實際屋況不符...</a></td>
                                <td>2024-06-10 15:20:00</td>
                                <td><span class="badge bg-success">已回覆</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    }

    <!-- 訂單記錄頁籤 -->
    <div class="tab-pane fade" id="order-history" role="tabpanel" aria-labelledby="order-history-tab">
        <div class="card mt-3">
            <div class="card-header">
                <h5 class="mb-0">歷史傢俱訂單</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th>訂單ID</th>
                                <th>訂單總金額</th>
                                <th>訂單狀態</th>
                                <th>付款狀態</th>
                                <th class="sortable" data-sort="orderDate">
                                    下單時間 
                                    <i class="bi bi-sort-down sort-icon active" data-direction="desc"></i>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ORD-20240710-005</td>
                                <td>NT$ 800</td>
                                <td><span class="badge bg-primary">準備中</span></td>
                                <td><span class="badge bg-success">已付款</span></td>
                                <td>2024-07-10 09:10:00</td>
                            </tr>
                            <tr>
                                <td>ORD-20240301-001</td>
                                <td>NT$ 1,500</td>
                                <td><span class="badge bg-success">已完成</span></td>
                                <td><span class="badge bg-success">已付款</span></td>
                                <td>2024-03-01 11:30:00</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- 溝通與支援頁籤 -->
    <div class="tab-pane fade" id="support-history" role="tabpanel" aria-labelledby="support-history-tab">
        <div class="card mt-3">
            <div class="card-header">
                <h5 class="mb-0">客服記錄</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th>客服單號</th>
                                <th>主旨</th>
                                <th>關聯項目</th>
                                <th>狀態</th>
                                <th class="sortable" data-sort="lastReplyTime">
                                    最後回覆時間 
                                    <i class="bi bi-sort-down sort-icon active" data-direction="desc"></i>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>TKT-001</td>
                                <td><a href="#" target="_blank" class="text-decoration-none">租約問題</a></td>
                                <td><a href="#" target="_blank" class="text-decoration-none">合約 C008</a></td>
                                <td><span class="badge bg-warning">處理中</span></td>
                                <td>2024-07-11 18:00:00</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="card mt-3">
            <div class="card-header">
                <h5 class="mb-0">發出的投訴</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-striped table-hover">
                        <thead class="table-dark">
                            <tr>
                                <th>投訴單號</th>
                                <th>投訴主旨</th>
                                <th>被投訴房源</th>
                                <th>投訴狀態</th>
                                <th class="sortable" data-sort="complaintSubmitTime">
                                    投訴時間 
                                    <i class="bi bi-sort-down sort-icon active" data-direction="desc"></i>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>CMPL-0456</td>
                                <td><a href="#" target="_blank" class="text-decoration-none">房源描述不實</a></td>
                                <td><a href="#" target="_blank" class="text-decoration-none">台北市大安區優質套房</a></td>
                                <td><span class="badge bg-success">已處理</span></td>
                                <td>2024-06-25 14:30:00</td>
                            </tr>
                            <tr>
                                <td>CMPL-0789</td>
                                <td><a href="#" target="_blank" class="text-decoration-none">房東服務態度不佳</a></td>
                                <td><a href="#" target="_blank" class="text-decoration-none">新北市板橋區溫馨雅房</a></td>
                                <td><span class="badge bg-warning">處理中</span></td>
                                <td>2024-07-02 09:15:00</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>