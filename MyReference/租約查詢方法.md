## 租約查詢方法

● 根據資料庫結構分析，合約中的租客、房東、房源關係是透過以下外鍵連結：

  關聯架構

  contracts → rentalApplications → members (租客)
  - contracts.rentalApplicationId → rentalApplications.applicationID
  - rentalApplications.memberID → members.memberID (租客)

  contracts → rentalApplications → properties → members (房東)
  - contracts.rentalApplicationId → rentalApplications.applicationID
  - rentalApplications.propertyID → properties.propertyID
  - properties.landlordMemberID → members.memberID (房東)

  查詢範例

  要取得合約的完整資訊，可使用此 SQL：
```sql
  SELECT
      c.contractId,
      c.status as contractStatus,
      c.startDate,
      c.endDate,

      -- 租客資訊
      tenant.memberID as tenantId,
      tenant.memberName as tenantName,
      tenant.phoneNumber as tenantPhone,
    
      -- 房東資訊
      landlord.memberID as landlordId,
      landlord.memberName as landlordName,
      landlord.phoneNumber as landlordPhone,
    
      -- 房源資訊
      p.propertyID,
      p.title as propertyTitle,
      p.addressLine as propertyAddress,
      p.monthlyRent

  FROM contracts c
  INNER JOIN rentalApplications ra ON c.rentalApplicationId = ra.applicationID
  INNER JOIN members tenant ON ra.memberID = tenant.memberID
  INNER JOIN properties p ON ra.propertyID = p.propertyID
  INNER JOIN members landlord ON p.landlordMemberID = landlord.memberID
```
  目前系統中有 4 筆合約，都是 ACTIVE 狀態，主要涉及租客「金素素」和「銀明」，房東「金大明」。