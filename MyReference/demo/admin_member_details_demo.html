<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>會員個人詳情頁 Demo</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .table-hover tbody tr:hover {
            background-color: rgba(0, 0, 0, 0.05);
            cursor: pointer;
        }
        .card-header, .modal-header {
            background-color: #e9ecef;
        }
        .list-group-item-action {
            cursor: pointer;
        }
        .key-value-list dt {
            font-weight: 600;
        }
        .key-value-list dd {
            margin-left: 1.5rem;
        }
    </style>
</head>
<body>

    <div class="container-fluid p-4">
        <!-- 1. 頂部標題區 & 快速操作區 -->
        <div class="card mb-4">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h2 class="mb-1">
                            <i class="bi bi-person-circle me-2"></i>王大明 <span class="badge bg-primary align-middle fs-6">已認證為房東</span>
                        </h2>
                        <p class="text-muted mb-1">會員ID: 12345</p>
                        <p class="text-muted mb-0">註冊時間: 2023-01-15 10:30:00</p>
                    </div>
                    <div class="text-end">
                        <div class="mb-2">
                            <span class="badge fs-6 text-bg-success">啟用</span>
                            <span class="badge fs-6 text-bg-primary">身分已驗證</span>
                        </div>
                        <div>
                            <button class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#deactivateModal"><i class="bi bi-trash me-1"></i>停用帳號</button>
                            <button class="btn btn-outline-secondary"><i class="bi bi-bell me-1"></i>發送系統訊息</button>
                            <button class="btn btn-outline-secondary"><i class="bi bi-arrow-clockwise me-1"></i>重設密碼</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 2. 頁籤導航區 -->
        <ul class="nav nav-tabs" id="memberDetailsTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="basic-info-tab" data-bs-toggle="tab" data-bs-target="#basic-info" type="button" role="tab" aria-controls="basic-info" aria-selected="true">基本資料</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="renter-activity-tab" data-bs-toggle="tab" data-bs-target="#renter-activity" type="button" role="tab" aria-controls="renter-activity" aria-selected="false">租客活動</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="landlord-activity-tab" data-bs-toggle="tab" data-bs-target="#landlord-activity" type="button" role="tab" aria-controls="landlord-activity" aria-selected="false">房東活動</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="order-history-tab" data-bs-toggle="tab" data-bs-target="#order-history" type="button" role="tab" aria-controls="order-history" aria-selected="false">訂單記錄</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="support-history-tab" data-bs-toggle="tab" data-bs-target="#support-history" type="button" role="tab" aria-controls="support-history" aria-selected="false">溝通與支援</button>
            </li>
            
        </ul>

        <!-- 3. 內容顯示區 -->
        <div class="tab-content" id="memberDetailsTabsContent">
            <!-- 基本資料頁籤 -->
            <div class="tab-pane fade show active" id="basic-info" role="tabpanel" aria-labelledby="basic-info-tab">
                <div class="row mt-3">
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5 class="mb-0">個人檔案</h5>
                                <button class="btn btn-sm btn-outline-primary"><i class="bi bi-pencil-square"></i> 編輯</button>
                            </div>
                            <div class="card-body">
                                <dl class="row key-value-list">
                                    <dt class="col-sm-4">姓名</dt><dd class="col-sm-8">王大明</dd>
                                    <dt class="col-sm-4">性別</dt><dd class="col-sm-8">男</dd>
                                    <dt class="col-sm-4">生日</dt><dd class="col-sm-8">1990-05-20</dd>
                                    <dt class="col-sm-4">手機號碼</dt><dd class="col-sm-8">0912-345-678</dd>
                                    <dt class="col-sm-4">電子信箱</dt><dd class="col-sm-8">david.wang@example.com</dd>
                                    <dt class="col-sm-4">居住地區</dt><dd class="col-sm-8">台北市 / 中正區</dd>
                                    <dt class="col-sm-4">詳細地址</dt><dd class="col-sm-8">信義路一段123號4樓</dd>
                                </dl>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-header"><h5 class="mb-0">認證狀態與管理</h5></div>
                            <div class="card-body">
                                <dl class="row key-value-list">
                                    <dt class="col-sm-5">手機驗證時間</dt><dd class="col-sm-7">2023-01-15 10:28:00</dd>
                                    <dt class="col-sm-5">Email驗證時間</dt><dd class="col-sm-7">2023-01-18 14:00:00</dd>
                                    <dt class="col-sm-5">身分驗證時間</dt><dd class="col-sm-7">2023-02-01 11:45:00</dd>
                                </dl>
                                <hr>
                                <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#verifyIdModal">
                                    <i class="bi bi-check2-circle me-1"></i> 手動驗證身分
                                </button>
                                <small class="form-text text-muted ms-2">僅在用戶未驗證時顯示此按鈕。</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 租客活動頁籤 -->
            <div class="tab-pane fade" id="renter-activity" role="tabpanel" aria-labelledby="renter-activity-tab">
                <div class="card mt-3">
                    <div class="card-header"><h5 class="mb-0">歷史租約</h5></div>
                    <div class="card-body table-responsive">
                        <table class="table table-hover">
                            <thead><tr><th>合約ID</th><th>房源標題</th><th>房東姓名</th><th>租期</th><th>合約狀態</th></tr></thead>
                            <tbody>
                                <tr><td>C001</td><td>台北車站旁精美套房</td><td>陳小姐</td><td>2023-03-01 ~ 2024-02-29</td><td><span class="badge text-bg-secondary">已結束</span></td></tr>
                                <tr><td>C008</td><td>信義區景觀三房</td><td>林先生</td><td>2024-05-01 ~ 2025-04-30</td><td><span class="badge text-bg-success">生效中</span></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- 房東活動頁籤 -->
            <div class="tab-pane fade" id="landlord-activity" role="tabpanel" aria-labelledby="landlord-activity-tab">
                <div class="card mt-3">
                    <div class="card-header"><h5 class="mb-0">名下房源</h5></div>
                    <div class="card-body table-responsive">
                        <table class="table table-hover">
                            <thead><tr><th>房源ID</th><th>房源標題</th><th>地址</th><th>屋源狀態</th><th>刊登到期日</th></tr></thead>
                            <tbody>
                                <tr><td>P001</td><td>市府捷運站溫馨兩房</td><td>台北市信義區...</td><td><span class="badge text-bg-success">已上架</span></td><td>2025-08-15</td></tr>
                                <tr><td>P007</td><td>板橋車站旁全新裝潢</td><td>新北市板橋區...</td><td><span class="badge text-bg-warning">待付款</span></td><td>-</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="card mt-3">
                    <div class="card-header"><h5 class="mb-0">收到的檢舉</h5></div>
                    <div class="card-body table-responsive">
                        <table class="table table-hover">
                            <thead><tr><th>投訴單號</th><th>投訴內容摘要</th><th>投訴時間</th><th>處理狀態</th></tr></thead>
                            <tbody>
                                <tr><td>CMPL-0123</td><td>照片與實際屋況不符...</td><td>2024-06-10 15:20:00</td><td><span class="badge text-bg-success">已回覆</span></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- 訂單記錄頁籤 -->
            <div class="tab-pane fade" id="order-history" role="tabpanel" aria-labelledby="order-history-tab">
                <div class="card mt-3">
                    <div class="card-header"><h5 class="mb-0">歷史傢俱訂單</h5></div>
                    <div class="card-body table-responsive">
                        <table class="table table-hover">
                            <thead><tr><th>訂單ID</th><th>訂單總金額</th><th>訂單狀態</th><th>付款狀態</th><th>下單時間</th></tr></thead>
                            <tbody>
                                <tr><td>ORD-20240301-001</td><td>$1,500</td><td>已完成</td><td>已付款</td><td>2024-03-01 11:30:00</td></tr>
                                <tr><td>ORD-20240710-005</td><td>$800</td><td>準備中</td><td>已付款</td><td>2024-07-10 09:10:00</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- 溝通與支援頁籤 -->
            <div class="tab-pane fade" id="support-history" role="tabpanel" aria-labelledby="support-history-tab">
                <div class="card mt-3">
                    <div class="card-header"><h5 class="mb-0">客服記錄</h5></div>
                    <div class="card-body table-responsive">
                        <table class="table table-hover">
                            <thead><tr><th>客服單號</th><th>主旨</th><th>關聯項目</th><th>狀態</th><th>最後回覆時間</th></tr></thead>
                            <tbody>
                                <tr><td>TKT-001</td><td>租約問題</td><td>合約 C008</td><td><span class="badge text-bg-warning">處理中</span></td><td>2024-07-11 18:00:00</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            
        </div>
    </div>

    <!-- Modals -->
    <!-- 手動驗證身分 Modal -->
    <div class="modal fade" id="verifyIdModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="verifyIdModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="verifyIdModalLabel">手動驗證身分</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>您正在為會員 <strong>王大明 (ID: 12345)</strong> 進行手動身分驗證。</p>
                    <div class="mb-3">
                        <label for="idNumberInput" class="form-label">身分證字號</label>
                        <input type="text" class="form-control" id="idNumberInput" placeholder="請輸入身分證字號">
                    </div>
                    <div class="alert alert-warning" role="alert">
                        請注意：此操作將會把會員的身分驗證狀態標記為「已驗證」，並授予其「房東」資格。請確認資料無誤。
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary" id="confirmVerifyBtn">確定驗證</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 停用帳號 Modal -->
    <div class="modal fade" id="deactivateModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="deactivateModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deactivateModalLabel">確認停用帳號</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>您確定要停用會員 <strong>王大明 (ID: 12345)</strong> 的帳號嗎？</p>
                    <p class="text-danger">停用後，該會員將無法登入系統。</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-danger">確定停用</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 二次確認邏輯 (範例)
        const confirmVerifyBtn = document.getElementById('confirmVerifyBtn');
        if(confirmVerifyBtn) {
            confirmVerifyBtn.addEventListener('click', function() {
                const idNumber = document.getElementById('idNumberInput').value;
                if (!idNumber) {
                    alert('請輸入身分證字號！');
                    return;
                }
                // 彈出二次確認
                if (confirm('請再次確認是否要為此用戶驗證身分？此操作不可逆。')) {
                    console.log('執行身分驗證，ID Number:', idNumber);
                    // 隱藏 modal
                    const modal = bootstrap.Modal.getInstance(document.getElementById('verifyIdModal'));
                    modal.hide();
                    // 顯示成功訊息
                    alert('會員身分已成功驗證！');
                }
            });
        }
    </script>
</body>
</html>
